(this.webpackJsonpmytask=this.webpackJsonpmytask||[]).push([[0],{50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),i=a(57),s=a(32),o=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,63)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)}))},m=a(58),u=a(22),f=a.n(u),d=a(30),E="https://swapi.dev/api/films",h={films:function(){return fetch(E).then((function(e){return e.json()}))},film:function(e){return Object(d.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(E,"/").concat(e)).then((function(e){return e.json()}));case 2:return a=t.sent,t.next=5,h.resources(a.planets);case 5:return t.t0=t.sent,t.next=8,h.resources(a.vehicles);case 8:return t.t1=t.sent,t.next=11,h.resources(a.starships);case 11:return t.t2=t.sent,a.data={planets:t.t0,vehicles:t.t1,starships:t.t2},t.abrupt("return",a);case 14:case"end":return t.stop()}}),t)})))},resources:function(e){return Promise.all(e.map((function(e){return fetch(e).then((function(e){return e.json()}))})))}},p=a(18),g=a(52),v=a(59),b=a(61),w=a(31),k=a.n(w),x=function(e){var t=e.data,a=k()({text:t.opening_crawl,length:200,breakWord:!1,more:"..."}),n=function(e){var t="favoriteFilm_".concat(e),a=r.a.useState(!!localStorage.getItem(t)),n=Object(p.a)(a,2),l=n[0],c=n[1];return[l,function(){l?localStorage.removeItem(t):localStorage.setItem(t,"favorite"),c(!l)}]}(t.episode_id.toString()),l=Object(p.a)(n,2),c=l[0],i=l[1];return r.a.createElement(g.a,{xs:12,md:4},r.a.createElement(v.a,{border:"dark",style:{width:"18rem"},className:"mb-4"},r.a.createElement(v.a.Header,{className:"font-weight-bold text-secondary text-uppercase"},t.title),r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Text,null,a," "),r.a.createElement(v.a.Link,{href:"/film/".concat(t.episode_id)},r.a.createElement(b.a,{className:"mb-4",variant:"light"},"Read More")),r.a.createElement(v.a.Footer,null,r.a.createElement(v.a.Link,{onClick:i},r.a.createElement(b.a,{className:"pb-5 mb-5 pb-md-0 mb-md-0 mx-auto mx-md-0",variant:"light"}," ",c?"Delete From Favorite":"Add To Favorite"," "))))))},F=a(62),j=a(53),y=a(60),I=a(54),S=function(){var e=Object(m.a)("films",h.films),t=e.isLoading,a=e.error,n=e.data;if(t)return r.a.createElement(F.a,{animated:!0,now:45});if(a)return r.a.createElement(r.a.Fragment,null," 'An error has occurred: ' +  error.message ");var l=n.results;return r.a.createElement(j.a,null,r.a.createElement(y.a.Image,{width:250,height:180,src:"https://cdn.commonwealthclub.org/s3fs-public/styles/hero/public/2019-11/hero%20star%20wars.png?itok=waMDC-JL",alt:"banner"}),r.a.createElement(I.a,null,l.map((function(e){return r.a.createElement(x,{key:e.episode_id,data:e})}))))},L=a(21),O=a(8),T=a(55),_=a(56),B=a(34),C=function(e){return e.map((function(e){return e.name})).join(", ")},N=function(){var e=Object(O.f)().filmId,t=Object(m.a)(["film",e],h.film(e)),a=t.isLoading,n=t.error,l=t.data;return a?r.a.createElement(F.a,{animated:!0,now:45}):n?r.a.createElement(r.a.Fragment,null,"'An error has occurred: ' + error "):r.a.createElement(v.a,null,r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Title,null,r.a.createElement(T.a,{variant:"warning"},l.title)),r.a.createElement(v.a.Text,null,r.a.createElement(T.a,{variant:"light"},l.release_date))),r.a.createElement(_.a,{className:"list-group-flush"},r.a.createElement(B.a,null,r.a.createElement(T.a,{variant:"info"},"Planets:")," ",C(l.data.planets)),r.a.createElement(B.a,null,r.a.createElement(T.a,{variant:"info"},"Vehicles:")," ",C(l.data.vehicles)),r.a.createElement(B.a,null,r.a.createElement(T.a,{variant:"info"},"Starships:")," ",C(l.data.starships))),r.a.createElement(b.a,{variant:"primary",size:"lg",href:"/"},"Go Back"))},P=(a(49),function(){return r.a.createElement(L.a,null,r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/film/:filmId"},r.a.createElement(N,null)),r.a.createElement(O.a,{path:"/"},r.a.createElement(S,null))))}),A=new i.a;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{client:A},r.a.createElement(P,null))),document.getElementById("root")),o()}},[[50,1,2]]]);
//# sourceMappingURL=main.ded2a643.chunk.js.map